<!DOCTYPE html>
<html lang="en_US">
<head>
    <meta charset="utf-8" />
    <title>Resync Windows time with task scheduler | Game Experiments</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta name="author" content="Richard Porteous">
    <meta name="description" content="Various coding tutorials">
    <meta name="keywords" content="blog, site, tutorials, coding, software, programming">

    
    <link href="https://richard-porteous.github.io/css/bootswatch/lux.min.css" rel="stylesheet">
    
    <link href="https://richard-porteous.github.io/css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://richard-porteous.github.io/css/custom.css" rel="stylesheet">

<link rel="icon" type="image/x-icon" href="https://richard-porteous.github.io/favicon.ico" />



<script type="text/javascript">
    var azbalacSettingHeaderMoveTitle = 'false';
</script>
<script src="https://richard-porteous.github.io/js/jquery-3.4.1.min.js"></script>
<script src="https://richard-porteous.github.io/js/functions.js"></script><style>body {}.footer-container { background-color: #29281f; }.footer-container { color: #f9fcf9; }</style>



<link id="typography-header-title-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Exo%3A800"><style id="typography-title" type="text/css">#site-header-text a {
        font-family: Exo;
    }#site-header-text a {
        font-size: 50px; 
    }</style>

<link id="typography-header-subtitle-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Exo%3A600"><style id="typography-subtitle" type="text/css">#site-description {
        font-family: Exo;
    }#site-description {
        font-size: 30px; 
    }</style>

<style id="typography-body" type="text/css"></style>

<style id="typography-navbar" type="text/css">nav#navbarMain {
        font-size: 20px; 
    }
    nav#navbarMain ul.dropdown-menu {
        font-size: 20px;
    }</style>

<link id="typography-headline-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans"><style id="typography-headline" type="text/css">h1, h2, h3, h4, h5, h6 {
                font-family: Open Sans; 
            }</style>



    
    <script type="text/javascript">
        var azbalacSettingHeaderColor = { 'bg': '#000000',
            'transp': '0'
            };

    </script>
    <style type="text/css">
        #site-header-text a, #site-description {
                background: "#000000";  
            background:  rgba(0,0,0,0.00);
            
        }
    </style>
    
    
    <style type="text/css">
        #site-header-box-title {
            margin-bottom: 0px;
        }
    </style>
    
    
    <style type="text/css">
        #site-header-container-overlay {
        
            left: 20px;
        
        
            top: 20px;
        
        }
    </style>
    


<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
        <script src="//cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
        <script src="//cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


</head>


<body>

<div id="header" role="banner" style="">

    <div class="container">
        <header class="masthead">
            <div>
                <div id="site-header-container-above" class="row align-items-center">
                    
                </div>
            </div>


            

            <div id="site-header-above"><a href="https://richard-porteous.github.io/" rel="home">
                <picture>
                        <source media="(min-width: 1200px)" srcset="https://richard-porteous.github.io/img/header_background.jpg 1110w">
                        <source media="(min-width: 992px) and (max-width: 1199.98px)" srcset="https://richard-porteous.github.io/img/header_background.jpg 930w">
                        <source media="(min-width: 768px) and (max-width: 991.98px)" srcset="https://richard-porteous.github.io/img/header_background.jpg 690w">
                        <source media="(min-width: 576px) and (max-width: 767.98px)" srcset="https://richard-porteous.github.io/img/header_background.jpg 510w">
                        <source media="(max-width: 575.98px)" srcset="https://richard-porteous.github.io/img/header_background.jpg 476w">
                        <img id="site-header-image" src="https://richard-porteous.github.io/img/header_background.jpg" style="max-width: 100%; width: 100%">
                </picture>
                </a>

                <div id="site-header-container-overlay" class="position-absolute  fixed-top ">
                    <div id="site-header-box-title" class=" d-flex justify-content-start ">
                        <h1 class="azbalac-title" id="site-header-text"><a class="header-url" style="color: #FFFFFF;" href="https://richard-porteous.github.io/">Game Experiments</a></h1>
                    </div>
                    
                    <div id="site-header-box-subtitle" class=" d-flex justify-content-start ">   
                        <h2 class="azbalac-subtitle" id="site-description" style="color: #EEEEFF;">Learn with me</h2>
                    </div>
                </div>
                
             
            </div>

    
    <nav id="navbarMain" class="navbar navbar-expand-sm justify-content-between mb-3 navbar-dark bg-primary" role="navigation">
        
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
        </button>
      
            
            <div class="sticky-top navbar-collapse collapse  " id="navbarSupportedContent"> 
                <ul class="navbar-nav">

  
  <li class="nav-item ">
    <a class="nav-link" href="/">
      
      Home
    </a>
  </li>
  <span class="mx-2"></span>
  

  
  <li class="nav-item ">
    <a class="nav-link" href="/posts/">
      
      Blog
    </a>
  </li>
  <span class="mx-2"></span>
  

  
  <li class="nav-item ">
    <a class="nav-link" href="/about/">
      
      About
    </a>
  </li>
  <span class="mx-2"></span>
  
</ul>
             
            </div>
        
            
    </nav> 
    



      </header>
    </div> 
</div>


    <div id="main">
        <div class="container">
            <div class="row"><div class="col-md" id="content">





<h1>Resync Windows time with task scheduler</h1>

    <div class="post-meta"><span class="byline-icon fa fa-clock-o" aria-hidden="true"></span> <span class="screen-reader-text">Date: </span><time datetime="2023-02-28T11:25:07-07:00">28.02.2023</time> - 
    <span class="byline-icon fa fa-user" aria-hidden="true"></span><span class="screen-reader-text">Author: </span> Richard Porteous
     </div>


  <p>NOTE: Time sync should be done as little as possible. See the recommendations on the time server sites.
i.e. <a href="https://www.pool.ntp.org">https://www.pool.ntp.org</a></p>
<p>Tired of forcing your time to resync manually?</p>
<p>If you dual boot or your computer just doesn&rsquo;t keep time after it has been shut down for a while, you may be a little frustrated with the default setting for windows.</p>
<p>Linux when booted will set the system time clock to UTC and display your local time.
Windows when booted seems to think that the computer system time is set at local time and uses that. I&rsquo;m not even sure it will try resync, but assumes all is well for at least a week or two.</p>
<h2 id="my-solution">My solution</h2>
<p>There are a few solutions out there, but I found what I think is pretty easy and reliable.</p>
<ol>
<li>Create a command batch file. Name it time-sync.bat</li>
</ol>
<pre tabindex="0"><code>    @echo off

    net start W32Time

    w32tm /resync
    
    echo sync complete
</code></pre><p>PS. The middle two can be run from the command prompt as ADMINISTRATOR (so type cmd in search and select run as administrator).</p>
<p>This is just a sample - if your script skills are good you may want to modify it to suit your purposes better.</p>
<p>Move time-sync.bat to a folder under the c: drive I made c:\TOOLS</p>
<ol start="2">
<li>
<p>Run <!-- raw HTML omitted -->computer management<!-- raw HTML omitted --> from search bar. Or right click windows start and select it from there.</p>
<p>The following may vary a bit. This is simply a guide, and I assume you can see the screen shots below.</p>
<p>make sure you set the following</p>
</li>
</ol>
<p>3 . Select the task scheduler library</p>
<p>
<img src="images//Select-Task-Scheduler.PNG" alt=""  /></p>
<ol start="4">
<li>
<p>Create a task</p>
<p>create:</p>
<ul>
<li>name - name of this task</li>
<li>description - what this does</li>
<li>run whether this user is logged in or not</li>
<li>configure for windows 10</li>
</ul>
</li>
</ol>
<p>
<img src="images//Create-Task-1.PNG" alt=""  /></p>
<ol start="5">
<li>
<p>Create the trigger (Trigger tab - create)</p>
<p>new trigger:</p>
<ul>
<li>begin the task = at log on OR at startup</li>
<li>stop task if runs longer than: 1 hour</li>
<li>OK</li>
</ul>
</li>
</ol>
<p>
<img src="images//Create-trigger.PNG" alt=""  /></p>
<ol start="6">
<li>
<p>Select the script on Actions tab</p>
<ul>
<li>new action</li>
<li>browse for your script</li>
<li>OK</li>
</ul>
</li>
<li>
<p>Save the task (OK). Enter the pasword if prompted. If not we need to go back.</p>
</li>
<li>
<p>Check if everything is ok.</p>
</li>
<li>
<p>If not OK or did not get requested a password then find the task in the library (first image) and on the right select properties. Select the user make sure it is correct. You should be prompted the password now.</p>
</li>
</ol>
<p>
<img src="images//Properties.PNG" alt=""  /></p>
<p>Check Actions to be sure you selected the script</p>
<p>
<img src="images//actions.PNG" alt=""  /></p>
<p>The logging option can be enabled if you are not sure the task ran. Once it is working you could come back and disable the logging.</p>
<h2 id="to-test">To Test</h2>
<p>Change your time</p>
<p>reboot</p>
<p>after logging in the computer should correct its time within the first minute.</p>
<p><!-- raw HTML omitted -->NOTE: to reset your time manually<!-- raw HTML omitted --></p>
<pre tabindex="0"><code>    right click time on task bar
    select Adjust Date/Time
    find the sync now button, 
    and click it.
</code></pre>

                </div></div>
        </div>
    </div>

    
        <div class="footer-container" style="">
    <div class="container">
        <footer>

            <div class="row">
            
            
                
                    <div class="col">
    <!-- raw HTML omitted -->
<!-- raw HTML omitted -->

</div>
                
                    <div class="col">
    
</div>
                
                    <div class="col">
    
</div>
                
            

            </div>
        </footer>
    </div>
</div>
    
    
        
<div class="subfooter-container">

    <div class="container">
        <div class="footer">
            <div class="row wrapper padding">
                <div class="col-xs-12 col-md-12">

            
            
                
                        <p>Powered by <a href="https://gohugo.io">Hugo</a>. Theme <a href="https://github.com/geschke/hugo-tikva">Tikva</a> by <a href="https://www.kuerbis.org">Ralf Geschke</a>.</p>


                
            
                  
                </div>
            </div>
        </div>
    </div>
</div>

    

    <div id="media-width-detection-element"></div>

<script src="https://richard-porteous.github.io/js/popper.min.js"></script>
<script src="https://richard-porteous.github.io/js/bootstrap.min.js"></script>


</body>
</html>